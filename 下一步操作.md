# Email Alert v4.0 - ä¸‹ä¸€æ­¥æ“ä½œ

## âœ… å·²å®Œæˆ

1. v4.0 ä»£ç å¼€å‘å®Œæˆ
2. å·²æäº¤å¹¶æ¨é€åˆ° GitHub (commit 6d686de)
3. GitHub Actions åº”è¯¥å·²è‡ªåŠ¨è§¦å‘æ„å»º

## âš ï¸ å½“å‰é—®é¢˜

### ä¸ªæ¨è®¤è¯å¤±è´¥
```
é”™è¯¯ä»£ç : 20001
é”™è¯¯ä¿¡æ¯: appid or appkey is invalid
```

**å¯èƒ½åŸå› ï¼š**
- AppID/AppKey/MasterSecret é…ç½®æœ‰è¯¯
- ä¸ªæ¨è´¦å·æœªå®Œæˆæ¿€æ´»
- API ç‰ˆæœ¬ä¸åŒ¹é…ï¼ˆv1 vs v2ï¼‰

## ğŸ”§ å¾…åŠäº‹é¡¹

### 1. æ£€æŸ¥ä¸ªæ¨é…ç½®

ç™»å½•ä¸ªæ¨å¼€å‘è€…ä¸­å¿ƒï¼šhttps://dev.getui.com/

æ£€æŸ¥é¡¹ï¼š
- [ ] AppID: `mQM6bHMbLlAQzfy53obHVB`
- [ ] AppKey: `tldyUidqkC9KDQQ1tZ9SK8`
- [ ] MasterSecret: `Gmf3vPvwaSAdNGWTKnvVp4`
- [ ] åº”ç”¨çŠ¶æ€æ˜¯å¦ä¸º"å·²æ¿€æ´»"
- [ ] æ˜¯å¦éœ€è¦å®åè®¤è¯
- [ ] API ç‰ˆæœ¬ï¼ˆREST API v1 æˆ– v2ï¼‰

### 2. ä¸‹è½½å¹¶å®‰è£… APK

**æ–¹å¼ 1: GitHub Actionsï¼ˆæ¨èï¼‰**
1. è®¿é—®ï¼šhttps://github.com/liuhar0213/Email-Alert-APP/actions
2. æ‰¾åˆ°æœ€æ–°çš„æ„å»ºä»»åŠ¡ï¼ˆåº”è¯¥æ˜¯ v4.0ï¼‰
3. ä¸‹è½½ `emailalert-4.0-arm64-v8a-debug.apk`
4. ä¼ è¾“åˆ° vivo æ‰‹æœºå¹¶å®‰è£…

**æ–¹å¼ 2: æœ¬åœ°æ„å»º**
```bash
cd ~/Desktop/äº¤æ˜“/project/email_alert_app
buildozer android debug
adb install -r bin/emailalert-4.0-arm64-v8a-debug.apk
```

### 3. é…ç½® Email Watcher

å¦‚æœä¸ªæ¨é…ç½®æ­£ç¡®ï¼Œæ›´æ–° `email_watcher/getui_push.py`ï¼š

```bash
cd ~/Desktop/äº¤æ˜“/project/email_watcher
# ç¼–è¾‘ getui_push.pyï¼Œç¡®è®¤é…ç½®æ­£ç¡®
python email_watcher.py
```

### 4. æµ‹è¯•æµç¨‹

#### æ­¥éª¤ 1: å¯åŠ¨ Android App
1. æ‰“å¼€ Email Alert App
2. ç‚¹å‡» "Connect" æŒ‰é’®
3. æ£€æŸ¥æ˜¯å¦æ˜¾ç¤º "Connected" çŠ¶æ€

#### æ­¥éª¤ 2: æŸ¥çœ‹ Android æ—¥å¿—
```bash
adb logcat | grep -i getui
```

åº”è¯¥çœ‹åˆ°ï¼š
- `[Getui] SDK initialized`
- `[Getui] Client ID: xxxxx`

#### æ­¥éª¤ 3: æµ‹è¯•æ¨é€
```bash
# æ–¹å¼1: ä½¿ç”¨æ¨é€è„šæœ¬
cd ~/Desktop/äº¤æ˜“/project/email_watcher
python getui_push.py

# æ–¹å¼2: å‘é€çœŸå®é‚®ä»¶æµ‹è¯•
# å‘é€ç¬¦åˆ config.json è§„åˆ™çš„é‚®ä»¶
```

#### æ­¥éª¤ 4: éªŒè¯è­¦æŠ¥
- æ‰‹æœºåº”åœ¨ 1-5 ç§’å†…æ”¶åˆ°æ¨é€
- App è§¦å‘ 90 ç§’é“ƒå£° + æŒ¯åŠ¨

## ğŸ“‹ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: GitHub Actions æ„å»ºå¤±è´¥

æ£€æŸ¥æ­¥éª¤ï¼š
1. è®¿é—® Actions é¡µé¢æŸ¥çœ‹é”™è¯¯æ—¥å¿—
2. å¯èƒ½çš„åŸå› ï¼š
   - Gradle ä¾èµ–ä¸‹è½½å¤±è´¥
   - Java ä»£ç ç¼–è¯‘é”™è¯¯
   - AndroidManifest.xml æ ¼å¼é—®é¢˜

### é—®é¢˜ 2: æ”¶ä¸åˆ°æ¨é€

**æ£€æŸ¥é¡ºåºï¼š**
1. **æœåŠ¡ç«¯**ï¼šemail_watcher.py æ—¥å¿—æ˜¯å¦æ˜¾ç¤º "[Getui] Push sent"
2. **ä¸ªæ¨äº‘**ï¼šç™»å½•ä¸ªæ¨æ§åˆ¶å°æŸ¥çœ‹æ¨é€è®°å½•
3. **Android ç«¯**ï¼šadb logcat æŸ¥çœ‹æ˜¯å¦æ”¶åˆ°æ¨é€
4. **Python ç›‘å¬å™¨**ï¼šæ˜¯å¦æ‰“å° "[Getui] New push received"

### é—®é¢˜ 3: æ¨é€æ”¶åˆ°ä½†ä¸å“é“ƒ

æ£€æŸ¥ï¼š
- Logcat æ˜¯å¦æœ‰ `trigger_alert()` è°ƒç”¨
- SharedPreferences æ˜¯å¦æ­£å¸¸å†™å…¥
- vivo çœç”µè®¾ç½®ï¼ˆåå°é«˜è€—ç”µ â†’ å…è®¸ï¼‰

## ğŸ”— æœ‰ç”¨é“¾æ¥

- GitHub ä»“åº“ï¼šhttps://github.com/liuhar0213/Email-Alert-APP
- GitHub Actionsï¼šhttps://github.com/liuhar0213/Email-Alert-APP/actions
- ä¸ªæ¨å¼€å‘è€…ä¸­å¿ƒï¼šhttps://dev.getui.com/
- ä¸ªæ¨ REST API æ–‡æ¡£ï¼šhttps://docs.getui.com/getui/server/rest_v2/introduction/

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œæ£€æŸ¥ä»¥ä¸‹æ—¥å¿—ï¼š
1. `email_watcher.py` è¾“å‡º
2. `adb logcat | grep -i getui`
3. ä¸ªæ¨æ§åˆ¶å°æ¨é€è®°å½•
